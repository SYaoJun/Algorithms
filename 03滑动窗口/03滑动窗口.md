## 滑动窗口

-   时间复杂度
    -   $O(N)$
-   适用范围
    -   具有单调特性的数组

## 经典例题

#### [220. 存在重复元素 III](https://leetcode-cn.com/problems/contains-duplicate-iii/) 中等 滑动窗口 multiset

-   维护窗口
-   查询最接近的值

```cpp
class Solution {
public:
    bool containsNearbyAlmostDuplicate(vector<int>& nums, int k, int t) {
        int n = nums.size();
        typedef long long LL;
        multiset<LL> st;
        st.insert(1e18);
        st.insert(-1e18);
        //距离限制 就是需要维护一个窗口  枚举一个值
        //从这个集合中挑选一个最接近x的值，就是大于等于x的值 和小于等于x的值 二者之一
        for(int i = 0, j = 0; i < n; i++){
            if(i -j > k) st.erase(st.find(nums[j++]));
            int x = nums[i];
            auto it = st.lower_bound(x);
            if(*it - x <= t) return true;
            --it;
            if(x - *it <= t) return true;
            st.insert(x);
        }
        return false;
    }
};
```

#### [26. 删除排序数组中的重复项](https://leetcode-cn.com/problems/remove-duplicates-from-sorted-array/) 简单 双指针 yj

#### [76. 最小覆盖子串](https://leetcode-cn.com/problems/minimum-window-substring/) 困难 双指针 yxc

#### [32. 最长有效括号](https://leetcode-cn.com/problems/longest-valid-parentheses/) 困难 双指针 前缀和 yxc

#### [155. 最小栈](https://leetcode-cn.com/problems/min-stack/) 简单 前缀最值 yxc

#### [42. 接雨水](https://leetcode-cn.com/problems/trapping-rain-water/) 困难 双指针 hhj

#### [84. 柱状图中最大的矩形](https://leetcode-cn.com/problems/largest-rectangle-in-histogram/) 困难 yxc 单调栈

#### [80. 删除排序数组中的重复项 II](https://leetcode-cn.com/problems/remove-duplicates-from-sorted-array-ii/) 中等 双指针 yj 

#### [209. 长度最小的子数组](https://leetcode-cn.com/problems/minimum-size-subarray-sum/) 中等 双指针O(n) 题解 待学习O(nlogn)解法 

#### [75. 颜色分类](https://leetcode-cn.com/problems/sort-colors/) 简单 yj5555555

#### [438. 找到字符串中所有字母异位词](https://leetcode-cn.com/problems/find-all-anagrams-in-a-string/) 中等 滑动窗口 哈希 hhj

#### [567. 字符串的排列](https://leetcode-cn.com/problems/permutation-in-string/) 中等 滑动窗口 哈希 同438 

#### [1052. 爱生气的书店老板](https://leetcode-cn.com/problems/grumpy-bookstore-owner/) 中等 滑动窗口 yj

#### [424. 替换后的最长重复字符](https://leetcode-cn.com/problems/longest-repeating-character-replacement/) 中等 滑动窗口 [子烁](https://space.bilibili.com/59546029/video)

#### [992. K 个不同整数的子数组](https://leetcode-cn.com/problems/subarrays-with-k-different-integers/) 困难 滑动窗口 题解 yj 恢复现场

#### [239. 滑动窗口最大值](https://leetcode-cn.com/problems/sliding-window-maximum/) 困难 滑动窗口 yxc 单调队列

#### [480. 滑动窗口中位数](https://leetcode-cn.com/problems/sliding-window-median/) 困难 滑动窗口 [hhj](https://www.bilibili.com/video/av31472842?from=search&seid=5153648314809721738) 维护插入排序

#### [1208. 尽可能使字符串相等](https://leetcode-cn.com/problems/get-equal-substrings-within-budget/) 中等 滑动窗口 yj 经典套路

#### [1004. 最大连续1的个数 III](https://leetcode-cn.com/problems/max-consecutive-ones-iii/) 中等 滑动窗口 yj 经典套路

#### [978. 最长湍流子数组](https://leetcode-cn.com/problems/longest-turbulent-subarray/) 中等 滑动窗口 dp

#### [713. 乘积小于K的子数组](https://leetcode-cn.com/problems/subarray-product-less-than-k/) 中等 双指针 滑动窗口

#### [395. 至少有 K 个重复字符的最长子串](https://leetcode-cn.com/problems/longest-substring-with-at-least-k-repeating-characters/) M+ 枚举字母

-   注意局部变量要清空，或者直接放在内层循环。
-   枚举包含`len`个字母时的最大长度。
    -   如果当前存在的字母数量小于等于`len`则移动右指针，使子串变得更大。
    -   如果当前存在的字母数量大于等于`len`则移动左指针，使子串中的字母数量小于等于`len`。
    -   在移动的过程中统计达标的字母数量，当达标的字母数量等于当前字母的数量时，说明是满足条件的一个子串，跟另外的结果做比较，维护一个最大的长度值。

```cpp
class Solution {
public:
    int longestSubstring(string s, int k) {
        //枚举字母
        int n = s.size();
        int res = 0;
        //包含i个字母的最大长度
        for(int len = 1; len <= 26; len++){
           vector<int> cnt(26);
            int curWord = 0, dabiao = 0;
            for(int i = 0, j = 0; i < n; i++){
                char c = s[i]-'a';
                cnt[c]++;
                if(cnt[c] == 1) curWord++;
                if(cnt[c] == k) dabiao++;
                while(curWord > len){
                    char u = s[j]-'a';
                    if(cnt[u] == k) dabiao--;
                    if(cnt[u] == 1) curWord--;
                    cnt[u]--;
                    j++;
                }
                
                if(dabiao==curWord ){
                    // cout<<dabiao<<" "<<curWord<<" "<<len<<" "<<j<<" "<<i<<endl;
                    res = max(res, i-j+1);
                }
            }
        }
        return res;
    }
};
```



